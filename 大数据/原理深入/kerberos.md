安装成功的文档：
https://www.cnblogs.com/erlou96/p/16878390.html#_label2_3



>kerberos是什么？
>具体原理是啥？
>为什么它是一种成熟可靠的身份认证协议？

参考： https://zhuanlan.zhihu.com/p/266491528

![[Pasted image 20230817204526.png]]


## 简介
Kerberos是一种网络身份验证协议，旨在为计算机网络中的实体提供安全的认证服务。它允许用户在不安全的网络上进行身份验证，而==无需在网络上直接传递密码==。Kerberos的原理基于票据的概念，它通过使用==加密技术确保了身份验证和通信的安全性==。

## 原理
以下是Kerberos认证的基本原理：

1. **组件**：
    
    - **KDC（Key Distribution Center）**：KDC是Kerberos的中心组件，包括两个子组件：AS（Authentication Server，认证服务器）和TGS（Ticket Granting Server，票据授权服务器）。
        
    - **AS**：负责初次身份验证。它验证用户的身份并颁发一个临时票据（Ticket-Granting Ticket，TGT）。
        
    - **TGS**：负责颁发用于访问特定服务的票据（Service Tickets）。
        
    - **客户端**：需要访问网络资源的用户或应用程序。
        
    - **服务端**：提供网络资源的服务器。
        
2. **流程**：
    
    a. **身份验证过程**：
    
    1. 客户端向AS发送身份认证请求，请求使用特定服务的TGT。
    2. AS验证用户的身份，如果通过，生成一个TGT，其中包含客户端标识和加密的会话密钥（Session Key）。
    3. AS将加密后的TGT发送给客户端。
    
    b. **获取服务票据过程**：
    
    1. 当客户端想要访问某个服务时，它会生成一个TGS请求，其中包含之前获得的TGT以及服务的标识。
    2. TGS接收到请求后，使用自己的私钥解密TGT，然后生成一个用于访问该服务的服务票据（Service Ticket）。
    3. TGS将服务票据发送给客户端，该票据包含一个另一个会话密钥，用于与服务端进行通信。
    
    c. **访问服务过程**：
    
    1. 客户端向服务端发送服务票据。
    2. 服务端使用自己的私钥解密票据，验证票据的有效性。
    3. 如果票据有效，服务端向客户端发送一个随机数（Nonce）。
    4. 客户端使用会话密钥加密随机数，并发送给服务端，证明自己拥有会话密钥。
    5. 服务端解密随机数，如果匹配预期值，则验证成功，客户端被授权访问该服务。

整个过程中，票据的加密和解密保证了认证信息的安全传输，避免了在网络上传递明文密码，同时会话密钥的使用确保了通信的机密性和完整性。这种方式使得Kerberos在分布式环境中提供了强大的身份验证和安全通信机制。
